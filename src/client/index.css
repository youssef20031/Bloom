/*
  This file can be used for any custom CSS that isn't covered by Tailwind CSS.
  For this project, Tailwind handles most of the styling, but you could add
  custom animations, component styles, or other specific rules here.
*/

:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  font-family: 'Inter', sans-serif;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}


/* === index.css (Complete and Corrected) === */

/* --- General App & Body Styles --- */
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #f0f2f5;
}

.app-container {
    display: flex;
    flex-direction: column;
    height: 100vh; /* Takes full viewport height */
    width: 100vw;  /* Takes full viewport width */
    background: white;
    /* Removed max-width and margin to allow full-screen expansion */
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}

.app-header {
    background-color: #0076ce; /* Dell Blue */
    color: white;
    padding: 15px 20px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    flex-shrink: 0; /* Prevents header from shrinking */
}

/* --- View Toggling Logic --- */
.chat-view, .report-view {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden; /* Prevents double scrollbars */
}

/* This is the key class that hides the inactive view */
.hidden {
    display: none;
}


/* --- Chat Window Styles --- */
.chat-window {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message {
    max-width: 80%;
    padding: 10px 15px;
    border-radius: 18px;
    word-wrap: break-word; /* Ensure long words don't overflow */
    line-height: 1.5;
}

.message.user {
    background-color: #e3f2fd;
    color: #333;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
}

.message.bot {
    background-color: #ffffff;
    color: #333;
    align-self: flex-start;
    border: 1px solid #ddd;
    border-bottom-left-radius: 4px;
    text-align: left;
}

/* --- Markdown Formatting for Chat --- */
.message p {
    margin: 0 0 0.5em 0;
}
.message p:last-child {
    margin-bottom: 0;
}
.message ul, .message ol {
    margin: 0.5em 0;
    padding-left: 25px;
}
.message li {
    margin-bottom: 0.3em;
}
.message strong {
    font-weight: 700;
}


/* --- Input Area --- */
.input-area {
    display: flex;
    padding: 15px;
    border-top: 1px solid #ddd;
    background-color: #fff;
    flex-shrink: 0; /* Prevents input from shrinking */
}

.input-area input {
    flex-grow: 1;
    border: 1px solid #ccc;
    border-radius: 20px;
    padding: 10px 15px;
    font-size: 1em;
    margin-right: 10px;
}

.input-area button {
    padding: 10px 20px;
    border-radius: 20px;
    border: none;
    background-color: #0076ce;
    color: white;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-left: 5px;
}

.input-area button:hover {
    background-color: #005a9e;
}

.input-area button:disabled {
    background-color: #a0a0a0;
    cursor: not-allowed;
}

.input-area .exit-button {
    background-color: #d12700; /* Dell Red */
}
.input-area .exit-button:hover {
    background-color: #a81f00;
}


/* --- Report View Styles --- */
.report-view {
    padding: 0 20px 20px 20px;
}

.report-content {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 25px;
    flex-grow: 1;
    overflow-y: auto;
    text-align: left;
}

.report-view button {
    margin-top: 20px;
    padding: 10px 20px;
    border-radius: 5px;
    border: none;
    background-color: #0076ce;
    color: white;
    font-size: 16px;
    cursor: pointer;
    align-self: center;
}

/* --- Markdown Formatting for Report --- */
.report-markdown h1, .report-markdown h2, .report-markdown h3, .report-markdown strong {
    color: #333;
}

.report-markdown p {
    line-height: 1.6;
    margin-bottom: 1em;
}

.report-markdown ul, .report-markdown ol {
    padding-left: 25px;
    margin-bottom: 1em;
}

.report-markdown li {
    margin-bottom: 0.5em;
}

/* Layout */
.app-container.layout-with-sidebar {
    display: grid;
    grid-template-columns: 280px 1fr;
    height: 100vh;
}
.sidebar {
    border-right: 1px solid #e5e7eb;
    padding: 12px;
    overflow: auto;
}
.content {
    display: flex;
    flex-direction: column;
    height: 100vh;
}
.session-list-header { font-weight: 600; margin-bottom: 8px; }
.session-list ul { list-style: none; padding: 0; margin: 0; }
.session-item { padding: 8px; border-radius: 6px; cursor: pointer; border: 1px solid transparent; display:flex; flex-direction: column; gap:4px; }
.session-item:hover { background: #f8fafc; border-color: #e5e7eb; }
.session-item.active { background: #eef2ff; border-color: #c7d2fe; }
.session-item .title { font-size: 14px; font-weight: 600; }
.session-item .meta { font-size: 12px; color: #6b7280; }

.badge { display: inline-block; padding: 2px 8px; border-radius: 9999px; font-size: 12px; }
.status-active { background: #ecfeff; color: #0e7490; border: 1px solid #a5f3fc; }
.status-completed { background: #ecfdf5; color: #047857; border: 1px solid #a7f3d0; }

/* Chat window */
.chat-window { flex: 1; overflow: auto; padding: 16px; background: #f9fafb; }
.message { max-width: 70ch; padding: 12px; margin-bottom: 8px; border-radius: 8px; }
.message.user { background: #dbeafe; align-self: flex-end; }
.message.bot { background: #ffffff; border: 1px solid #e5e7eb; }



.app-header { display:flex; align-items:center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #e5e7eb; }




/* --- CHILD 1: THE HEADER --- */
.app-header {
    /* This tells the header NOT to shrink if space is tight */
    flex-shrink: 0; 
    /* Other styles like background, padding, etc., remain the same */
    background-color: #0076ce;
    color: white;
    padding: 12px 16px;
    border-bottom: 1px solid #e5e7eb;
    display:flex; 
    align-items:center; 
    justify-content: space-between;
}

/* --- CHILD 2: THE CHAT WINDOW (THE FLEXIBLE PART) --- */
.chat-window {
    /* This shorthand (flex: 1) is the MOST IMPORTANT part. It means:
       - flex-grow: 1 (take up all available space)
       - flex-shrink: 1 (shrink if other elements need space)
       - flex-basis: 0% (start with no initial size) */
    flex: 1;

    /* Allow scrolling ONLY within this chat window */
    overflow-y: auto; 

    /* A common flexbox fix: allows the element to shrink below its content size */
    min-height: 0;

    /* Other styles like padding, background, etc., remain the same */
    padding: 16px; 
    background: #f9fafb;
}

/* --- CHILD 3: THE INPUT AREA --- */


.main-content-area {
    overflow: hidden;
    display: flex;
    flex-direction: column;
}


/* --- CORRECTED VIEW STYLES (Replace existing .content and .report-view) --- */

/* This rule applies to BOTH the chat view and the report view */
.content,
.report-view {
    /* Make them both flex containers that can hold a header, content, and footer */
    display: flex;
    flex-direction: column;

    /* This is the key: make the ACTIVE view take up ALL available space */
    flex-grow: 1;

    /* This flexbox fix allows the view to shrink properly if needed */
    min-height: 0; 
}


/* --- CORRECTED HIDING LOGIC (Replace your existing .hidden rule) --- */
.hidden {
    /* This is the most important change. 
       !important forces this rule to apply, overriding any conflicting styles.
       This guarantees the inactive view is completely removed from the layout. */
    display: none ;
}

